---
title: CP 5 - Mettre en place une base de donn√©es relationnelle
description: Synth√®se et explications des attentes relatives √† la comp√©tence professionnelle 5 du titre professionnel D√©veloppeur Web et Web Mobile (DWWM-01280m04).
tags: [DWWM]
---

import QuickLinks from "@/components/QuickLinks";
import Callout from "@/components/Callout";
import tabs from "./tabs";

## üìö R√©f√©rences

- REAC _(mise √† jour du 02/07/2024)_, pages 23 et 24
- RE _(mise √† jour du 02/07/2024)_, page 11

## üìã En r√©sum√©

Le front-end : c'est **fini** !  
Mais avant de nous attaquer au back-end d'un point de vue code, on va voir ce qui est attendu dans cette CP qui parle de la mise en place d'une base de donn√©es relationnelle.

<Callout type="question" title="Mais attend ! J'ai juste une base de donn√©es non relationnelle √† mettre en place, c'est bon ?">
  J'aurai aim√© te dire que oui, mais √ßa va √™tre un poil trop l√©ger pour cette comp√©tence...  
  Mais garde sous la main ta base de donn√©es non relationnelles
  pour la prochaine comp√©tence, √ßa te servira üòâ
</Callout>

## üé® Mod√©lisation de la base de donn√©es

Commen√ßons par le commencement : **comment cr√©er une base de donn√©es relationnelle ?**

Il y a pl√©thore de possibilit√©s, mais ici on va s'attarder sur une m√©thodologie fran√ßaise _(cocorico üêì)_ qui est la m√©thode **Merise**.  
On va se baser sur diff√©rents sch√©mas issus de cette m√©thode pour cr√©er notre base de donn√©es relationnelle, √† savoir :

1. Le **dictionnaire des donn√©es** : qui va recenser toutes les donn√©es que l'on va stocker par la suite dans notre base de donn√©es
2. Le **MCD** _(Mod√®le Conceptuel des Donn√©es)_ : qui va repr√©senter les donn√©es et leurs relations, sous la forme d'entit√©s et d'associations dans un sch√©ma graphique
3. Le **MLD** _(Mod√®le Logique des Donn√©es)_ : qui va repr√©senter les donn√©es sous forme de tables et de relations, dans un sch√©ma graphique
4. Le **MRD** _(Mod√®le Relationnel des Donn√©es)_ : qui va repr√©senter les m√™mes informations que le MLD, mais cette fois-ci en format texte
5. Le **MPD** _(Mod√®le Physique des Donn√©es)_ : qui va repr√©senter les donn√©es sous forme de tables et de relations, en int√©grant les types de donn√©es et les contraintes

Tu remarqueras que j'y ai indiqu√© un ordre dans la liste ci-dessus.  
Si je peux te donner un indice : ce n'est pas pour rien que c'est une liste ordonn√©e üòâ

Donc si tu r√©alises un dictionnaire de donn√©es apr√®s avoir fait ton MPD, c'est que tu n'as pas compris l'objectif du dictionnaire de donn√©es ! _(par exemple)_

Si tu souhaites en savoir plus sur la m√©thode Merise, je t'invite √† lire les articles d√©di√©s sur le Memento.  
Voici un lien vers l'introduction de la m√©thode Merise !

<QuickLinks.QuickLink
  title="Introduction √† Merise"
  href="/docs/merise/"
  description="Parlons un peu de Merise, la fameuse m√©thodologie de mod√©lisation pour la conception de bases de donn√©es."
  icon="presets"
/>

## üíæ Sauvegardes de la base de donn√©es

C'est bien beau de cr√©er une base de donn√©es, mais si on ne la sauvegarde pas, on risque de tout perdre en cas de probl√®me...

Certains h√©bergeurs permettent de faire des sauvegardes automatis√©es, mais dans le cas o√π tu dois toi-m√™me sauvegarder ta base de donn√©es, il existe plusieurs solutions :

- **Les sauvegardes manuelles** : qui consistent √† exporter le contenu de ta base de donn√©es dans un fichier _(g√©n√©ralement au format SQL)_
- **Les sauvegardes automatiques** : qui consistent √† automatiser le processus de sauvegarde, g√©n√©ralement via un script ou un outil d√©di√©

On va se concentrer _(que tr√®s rapidement, ne t'inqui√®te pas !)_ sur la partie automatis√©e, puisqu'elle permet √©galement de comprendre comment faire une sauvegarde manuellement.

Pour mettre en place l'automatisation, on peut mettre en place une t√¢che planifi√©e : un processus qui va s'ex√©cuter √† intervalles r√©guliers pour sauvegarder notre base de donn√©es.  
Sur Linux, on parlera d'un `cron job` _(ou `t√¢che cron` en fran√ßais)_.

Sans rentrer dans les d√©tails de configuration d'une t√¢che cron, on va devoir la cr√©er en donnant plusieurs informations :

- **Le chemin vers le script de sauvegarde** : qui va contenir les commandes pour sauvegarder notre base de donn√©es
- **La fr√©quence d'ex√©cution** : qui va d√©terminer √† quelle fr√©quence notre t√¢che va s'ex√©cuter _(toutes les heures, tous les jours, toutes les semaines, etc.)_
- **Le compte utilisateur** : qui va ex√©cuter la t√¢che, g√©n√©ralement le compte de l'utilisateur qui a les droits d'acc√®s √† la base de donn√©es

<Callout type="note" title="Exemple de script `bash` pour sauvegarder une base de donn√©es PostgreSQL">
  <tabs.bashPgCronFile />

  Ce script va permettre de sauvegarder une base de donn√©es PostgreSQL en exportant son contenu dans un fichier SQL.  
  Il est important de remplacer les variables `DB_USER`, `DB_NAME` et `BACKUP_DIR` par les informations de ta base de donn√©es.

  Une fois ce script cr√©√©, il suffira de le rendre ex√©cutable et de le planifier dans une t√¢che cron pour automatiser la sauvegarde de ta base de donn√©es.

  <tabs.bashPgCronRegister />

  Et voil√† ! Ta base de donn√©es sera sauvegard√©e toutes les nuits √† minuit, sans que tu aies besoin d'intervenir manuellement.
</Callout>

## üõ°Ô∏è S√©curit√© et confidentialit√© des donn√©es

On ne le r√©p√©tera jamais assez, mais la s√©curit√© et la confidentialit√© des donn√©es sont primordiales pour toute application.

Pour garantir la s√©curit√© de ta base de donn√©es, il est recommand√© de mettre en place plusieurs mesures :

- **Les sauvegardes r√©guli√®res** : pour √©viter de perdre des donn√©es en cas de probl√®me
- **Les mises √† jour r√©guli√®res** : pour corriger les failles de s√©curit√© et les bugs
- **Les acc√®s restreints** : pour limiter l'acc√®s √† la base de donn√©es aux seules personnes autoris√©es
- **Les mots de passe forts** : pour √©viter les attaques par force brute ou par dictionnaire
- **Les connexions s√©curis√©es** : pour √©viter les interceptions de donn√©es

Mais la s√©curit√© ne s'arr√™te pas l√†, il est √©galement important de garantir la confidentialit√© des donn√©es :

- **Le chiffrement des donn√©es** : pour √©viter que des tiers puissent lire les donn√©es stock√©es, en cas de fuite

<Callout type="warning" title="Identifiants de connexion">
  M√™me en d√©veloppement sur ta machine locale, prend l'habitude de ne jamais utiliser les identifiants par d√©faut de ta base de donn√©es _(comme `root` sans mot de passe par exemple)_.

  L'objectif est de te mettre dans les conditions r√©elles d'un environnement de production, o√π la s√©curit√© est primordiale. √áa t'√©vitera de prendre de mauvaises habitudes qui pourraient te co√ªter cher par la suite.
</Callout>

## ‚ûï Informations compl√©mentaires

Si tu utilises une autre m√©thode de mod√©lisation que Merise, tu as √©videmment le droit de le faire !  
Fais juste attention √† une chose...

<Callout type="warning" title="Attention au respect des documents !">
  Si tu utilises une autre m√©thode de mod√©lisation, fais attention √† bien respecter les noms des documents.

  Par exemple, si tu fais un MCD, il faut que tu l'appelles comme √ßa et pas autrement.  
  Mais si tu fais un MCD il faut qu'il respecte la m√©thode Merise, **sinon ce n'est pas un MCD**.

  Ton jury peut √™tre tr√®s pointilleux l√†-dessus, donc fais attention √† bien respecter les noms des documents, leur contenu et leur structure.

  N'oublie pas : tu as toutes les ressources n√©cessaires pour r√©aliser un MCD, un MLD ou un MPD sur le Memento üòâ

  <QuickLinks.QuickLink
    title="Introduction √† Merise"
    href="/docs/merise/"
    description="Parlons un peu de Merise, la fameuse m√©thodologie de mod√©lisation pour la conception de bases de donn√©es."
    icon="presets"
  />
</Callout>

## üéØ Crit√®res d'√©valuation

- Les donn√©es du sch√©ma conceptuel et leurs relations sont identifi√©es et prises en compte
- Le sch√©ma physique est conforme aux besoins exprim√©s dans le dossier de conception et respecte les r√®gles des bases de donn√©es relationnelles
- Les r√®gles de nommage sont respect√©es
- La s√©curit√©, l'int√©grit√© et la confidentialit√© des donn√©es est assur√©e
- La base de donn√©es de tests mise en place est conforme au sch√©ma physique
- Les utilisateurs sont cr√©√©s avec leurs droits respectifs conform√©ment au dossier de conception
- La base de donn√©es cr√©√©e est sauvegard√©e et elle peut √™tre restaur√©e en cas d'incident
- La documentation technique des bases de donn√©es est comprise, en langue fran√ßaise ou anglaise _(niveau B1 du CECRL pour l'anglais)_

## ü§Ø Aller plus loin

Pas trop mal √† la t√™te ? On continue un tout petit peu ? üòÖ  
Tu as vu qu'on pr√©cise entre parenth√®ses la longueur des donn√©es, mais pourquoi on fait √ßa ?

Tu n'es pas sans savoir que pour stocker des donn√©es et que pour les stocker, il nous faut de l'espace.  
Et cet espace, on le d√©finit en fonction de la longueur de nos donn√©es : on parle alors d'allocation.

En pr√©cisant une valeur entre les parenth√®ses, on vient dire √† notre SGBD combien de place il doit r√©server pour stocker nos donn√©es **au maximum**.

Dans le cas d'un `VARCHAR(30)`, on r√©serve 30 caract√®res pour stocker notre donn√©e, m√™me si elle n'en fait que 5 _(allocation **dynamique**)_.  
Dans le cas d'un `CHAR(30)`, on r√©serve √©galement 30 caract√®res, mais cette fois-ci on "compl√®te notre donn√©e avec des espaces" pour atteindre les 30 caract√®res _(allocation **statique**)_.

Si on ne pr√©cise pas de longueur, le SGBD va r√©server une place par d√©faut qui varie d'un SGBD √† l'autre.  
Donc ce n'est pas parce que tu te dis : "255 caract√®res c'est tr√®s bien pour mon `VARCHAR`, pas besoin de le pr√©ciser puisque c'est la valeur par d√©faut !" que tu as raison... üòÖ  
Si demain la norme change et que l'allocation par d√©faut pour les types `VARCHAR` passe √† 100 caract√®res au lieu de 255 caract√®res, tu risques de te retrouver avec des donn√©es tronqu√©es !

## üß† Documentations

- [√âditions ENI - Merise - Guide pratique (4e √©dition), par **Jean-Luc Baptiste**](https://www.editions-eni.fr/livre/merise-guide-pratique-4e-edition-modelisation-des-donnees-et-des-traitements-manipulations-avec-le-langage-sql-conception-d-une-application-mobile-android-ou-ios-9782409046667)
- [Medium - Non, les ID n'ont pas leur place dans un MCD, par **Jean Pruli√®re**](https://jeanpruliere.medium.com/non-les-id-nont-pas-leur-place-dans-un-mcd-43b5cd5ce9b6)
- [SQL.sh - Cours et tutoriels SQL](https://sql.sh/)
- [Wikip√©dia - UML](<https://fr.wikipedia.org/wiki/UML_(informatique)>)

## üõ†Ô∏è Outils

- [Looping - Logiciel de mod√©lisation de bases de donn√©es](https://www.looping-mcd.fr/)
- [Mocodo - Logiciel en ligne de mod√©lisation de bases de donn√©es](https://www.mocodo.net/)
