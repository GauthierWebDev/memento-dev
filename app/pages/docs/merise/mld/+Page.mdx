---
title: Mod√®le Logique/Relationnel de Donn√©es (MLD/MRD) Merise
description: Plongez dans le MLD et MRD de Merise pour transformer votre mod√®le conceptuel en une structure relationnelle optimis√©e.
tags: [Backend, Merise, BDD, MCD, MLD, MPD, SQL]
---

import Callout from "@/components/Callout";

Dans cet article, on va parler du **MLD** _(Mod√®le Logique de Donn√©es)_ et du **MRD** _(Mod√®le Relationnel de Donn√©es)_.

Le MLD est la suite normale et directe du MCD dans le processus Merise. Son but est de transformer le MCD en un mod√®le qui pourra √™tre impl√©ment√© dans une base de donn√©es relationnelle.

On parlera plus tard du MRD, mais globalement : c'est la m√™me chose que le MLD !

## ü§î Qu'est-ce que le MLD ?

Le **MLD** est un sch√©ma qui va nous permettre de repr√©senter les donn√©es que l'on a r√©cup√©r√©es dans le MCD, mais en ajoutant des d√©tails techniques.

Il va nous permettre de repr√©senter les diff√©rentes donn√©es que l'on a, regroup√©e dans une **table**, ainsi que les relations entre elles au travers de **cl√©s √©trang√®res**, de **cl√©s primaires** et de **tables de jointure**.

Contrairement au MCD, le MLD n'est pas destin√© √† √™tre compris par le client.

## üîç Exemple de MLD

Reprenons le premier exemple de MCD, dans l'article pr√©c√©dent :

![Exemple de MCD](/images/merise/mcd-basic.webp)

On a ici un MCD qui repr√©sente trois **entit√©s** :

- **Entit√© 1**
- **Entit√© 2**
- **Entit√© 3**

√Ä partir de ce MCD, on va pouvoir cr√©er un MLD.  
Voici √† quoi il ressemble :

![Exemple de MLD](/images/merise/mld-basic.webp)

On a ici un MLD qui repr√©sente trois **tables** :
- **table_1**
- **table_2**
- **table_3**

Mais surtout : on a ajout√© des **cl√©s primaires**, des **cl√©s √©trang√®res** et une **table de jointure** !

Pour le moment √ßa semble bizarre voire magique, on va prendre le temps de d√©cortiquer tout √ßa.

## Transformation du MCD en MLD

Comme dit plus t√¥t, le MLD d√©coule directement du MCD.  
Il va donc reprendre les m√™mes **entit√©s** et **attributs** que le MCD, mais en ajoutant des d√©tails techniques.

<Callout type="note" title="Termes">
  √Ä partir du MLD, on va commencer √† parler de **table** et de **colonne**.  
  On parlera aussi de **cl√© primaire** et de **cl√© √©trang√®re** !
</Callout>

Pour pouvoir le transformer en MLD, il y a plusieurs √©l√©ments √† prendre en compte :

- Attributs :
  - Les **attributs** qui sont en gras et soulign√©s _(discriminants)_ dans le MCD, deviennent des **cl√©s primaires** dans le MLD.
  - Les **attributs** qui sont en gras _(attributs uniques)_ deviennent des **colonnes uniques** dans le MLD.
  - Les **attributs** qui ne sont pas en gras deviennent des **colonnes** dans le MLD.
- Relations :
  - On supprime les **relations** du MCD pour laisser place √† des **cl√©s √©trang√®res** dans le MLD.
  - Est-ce que la cardinalit√© maximale est de **1** ou de **N** ?
  - Est-ce que la relation est dite **r√©flexive** ?

Commen√ßons par les **entit√©s** et leurs **attributs**, on verra les cardinalit√©s apr√®s üòâ

## Convertir les entit√©s et attributs

Pour cette √©tape, √ßa va √™tre tr√®s simple !  
On vient reprendre notre MCD correspondant √† la gestion d'un groupe de musique :

![MCD final](/images/merise/mcd-4.webp)

Les seules choses que nous avons √† faire sont :

- Remplacer les **entit√©s** par des **tables**
- Remplacer les **attributs** par des **colonnes**

<Callout type="warning" title="Types de donn√©es">
  Dans le MLD, on ne pr√©cise pas encore les types de donn√©es des colonnes.  
  On serait tent√© de le faire d√®s maintenant, mais ce serait ne pas respecter la m√©thode Merise et l'int√©r√™t du MLD.

  On le fera plus tard, dans le **MPD** _(Mod√®le Physique de Donn√©es)_ !
</Callout>

Voici donc les tables et colonnes que l'on obtient :

![Exemple de MLD sans relations](/images/merise/mld-1.webp)

Pour l'instant, on a juste remplac√© les **entit√©s** par des **tables** et les **attributs** par des **colonnes**. Il nous reste plus qu'√† ajouter les **cl√©s primaires** et les **cl√©s √©trang√®res** !

## Convertir les relations

Pour convertir les relations, il faut d'abord se poser la question de la cardinalit√© maximale de chaque relation.

Il y a deux possibilit√©s :

- **One to Many** _(1,N)_
- **Many to Many** _(N,N)_

Un troisi√®me cas existe, dans le cas o√π la relation est r√©flexive _(une entit√© se relie √† elle-m√™me)_.

### ‚û°Ô∏è One to Many

Dans le cas d'une relation **One to Many**, on va ajouter une **cl√© √©trang√®re** dans la table qui est du c√¥t√© de la relation **One** _(1)_.

Dans notre cas, on a une relation **One to Many** entre **√âv√©nement** et l'h√©ritage _(**Concert** et **R√©p√©tition**)_.  

<Callout type="question" title="Mais il n'y a pas de cardinalit√© ici !">
  Effectivement, aucune cardinalit√© n'est pr√©sente entre l'h√©ritage et l'entit√© g√©n√©rique !  
  Dans ce cas pr√©cis, on consid√®re que l'h√©ritage est une relation **One to Many**.

  C'est-√†-dire :

  - **√âv√©nement** peut √™tre sp√©cialis√© par **Concert** ou **R√©p√©tition** _(**0,2** de mani√®re implicite)_
  - **Concert** doit sp√©cialiser un et un seul **√âv√©nement** _(**1,1** de mani√®re implicite)_
  - **R√©p√©tition** doit sp√©cialiser un et un seul **√âv√©nement** _(**1,1** de mani√®re implicite)_
</Callout>

On va donc ajouter une **cl√© √©trang√®re** dans les tables **concert** et **rehearsal** qui va faire r√©f√©rence √† la **cl√© primaire** de la table **event**.

![Exemple de MLD avec relation One to Many](/images/merise/mld-2.webp)

Et l√† : tu remarqueras que les **cl√©s √©trang√®res** sont en italique et sont pr√©fix√©es par un `#` !  

On constate √©galement que des fl√®ches sont apparues entre les tables.  
Ces fl√®ches nous permettent de visualiser le sens de la relation entre les tables, en partant de la table contenant la **cl√© √©trang√®re** vers la table contenant la **cl√© primaire**.

### üîÄ Many to Many

Pour cette deuxi√®me possibilit√©, il est impossible de stocker une cl√© √©trang√®re dans l'une des deux tables.  
Il faut alors cr√©er une **table de jointure** qui va faire le lien entre les deux tables.

Cette table se caract√©rise par :

- **Son nom** :
  - G√©n√©ralement compos√© des deux tables qu'elle relie, s√©par√©es par un `_` _(ex: `table_1_table_2`)_
  - Peut aussi √™tre un nom plus explicite, comme `table_1_action_table_2`
- **Ses colonnes** :
  - Deux colonnes qui vont faire r√©f√©rence aux **cl√©s primaires** des deux tables qu'elle relie
  - Les potentielles autres colonnes qui sont sp√©cifiques √† la relation

![Exemple de MLD avec relation Many to Many](/images/merise/mld-3.webp)

Ici, nous avons une relation **Many to Many** entre les tables **musician** et **event**.  
Une table de jointure a donc √©t√© cr√©√©e, qui s'appelle `musician_participates_event`.

Cette table contient deux colonnes qui font r√©f√©rence aux **cl√©s primaires** des tables **musician** et **event**.

<Callout type="question" title="Pourquoi il n'y a pas de cl√© primaire dans la table de jointure ?">
  Il n'est pas n√©cessaire d'ajouter une cl√© primaire dans la table de jointure.

  Pour rendre unique chaque enregistrement, on viendra _(plus tard !)_ cr√©er une **cl√© unique** sur les deux colonnes qui fait r√©f√©rence aux **cl√©s primaires** des tables qu'elle relie.

  C'est ce qu'on appelle une **cl√© composite**.
</Callout>

### üîÑ Relations r√©flexives

Dans notre situation, nous n'avons pas de relation r√©flexive.  
Mais le premier exemple donn√© sur cet article poss√®de une relation r√©flexive sur l'entit√© **Entit√© 3**.

Pas besoin de revenir tout en haut de l'article, je te le remets juste ici :

![Exemple de MCD](/images/merise/mcd-basic.webp)

Dans cet exemple, on retrouve une relation r√©flexive entre l'entit√© **Entit√© 3** et elle-m√™me.  
Cette relation est d√©finie avec une cardinalit√© **0,1** - **0,N**.

On appliquera la m√™me logique que pour une relation **One to Many** que l'on a vu plus haut.  
On retrouvera donc une **cl√© √©trang√®re** dans la table **table_3** qui va faire r√©f√©rence √† la **cl√© primaire** de la m√™me table.

![Exemple de MLD avec relation r√©flexive](/images/merise/mld-4.webp)

### üéâ MLD final

Et voil√†, on a termin√© notre MLD !  
Oui, pour de vrai üòÅ

Voici √† quoi il ressemble :

![Exemple de MLD final](/images/merise/mld-5.webp)

## MLD et MRD

Le MLD et le MRD sont deux choses diff√©rentes, mais qui se ressemblent beaucoup.

Le MLD est un mod√®le **logique** de donn√©es, qui est un sch√©ma **graphique**.  
Le MRD, lui, est un mod√®le **relationnel** de donn√©es, qui est un sch√©ma **textuel**.

Les informations pr√©sentes seront les m√™mes, seule la forme change.

<Callout type="question" title="Si c'est quasiment pareil, pourquoi faire le MRD ?">
  Le MRD n'est pas obligatoire, mais il permet une repr√©sentation plus lin√©aire.  
  √Ä toi de voir si tu souhaites le faire ou non, mais il est souvent plus simple √† lire !
</Callout>

Pour notre MLD final, voici √† quoi il ressemblerait en MRD :

musician(**<u>id_musician</u>**, lastname, firstname, instruments, **email**, password)  
musician_participates_event(_#id_musician_, _#id_event_)  
event(**<u>id_event</u>**, datetime, location)  
concert(**<u>id_concert</u>**, price, _#event_id_)  
rehearsal(**<u>id_rehearsal</u>**, _#event_id_)

## Conclusion

Par rapport au MCD, le MLD est beaucoup plus rapide √† r√©aliser. _(en m√™me temps, tous les choix ont √©t√© faits avant !)_

Ce sch√©ma permet de visualiser les relations entre les diff√©rentes tables de mani√®re simple et efficace, sans avoir √† se soucier des d√©tails techniques.

Mais pour le moment, on n'a pas encore parl√© des types de donn√©es des colonnes, ni des index √† cr√©er sur les tables...  
Rendez-vous pour la prochaine et derni√®re √©tape : le **MPD** _(Mod√®le Physique de Donn√©es)_ ! üöÄ