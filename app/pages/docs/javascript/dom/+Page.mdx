---
title: La manipulation du DOM avec JavaScript
description: D√©couvrez comment ma√Ætriser le DOM en JavaScript et donnez vie √† vos pages web !
tags: []
---

import QuickLinks from "@/components/QuickLinks";
import Callout from "@/components/Callout";
import tabs from "./tabs";

Maintenant que nous avons vu les grandes lignes du langage JavaScript, tu vas enfin pouvoir entrer dans le vif du sujet : la **manipulation du DOM** avec JavaScript.

## ü§î Qu'est-ce que le DOM ?

Le **Document Object Model** _(ou **DOM** en anglais)_ est une interface de programmation pour les documents HTML et XML. Il permet de repr√©senter la page web comme un arbre de **n≈ìuds**.

Chaque √©l√©ment HTML est un n≈ìud dans l'arbre, et les n≈ìuds peuvent contenir d'autres n≈ìuds.  
Mais un n≈ìud peut aussi √™tre un **texte** ou une **propri√©t√©** d'un √©l√©ment !

Pour que ce soit plus facile √† comprendre, voici quelques analogies pour t'aider √† comprendre ce qu'est le DOM.

<tabs.jsDomExplanations />

## ü§ñ Manipulation du DOM

La manipulation du DOM avec JavaScript permet de modifier la structure et le contenu de la page web.  
Le grand avantage du DOM est qu'il est **tr√®s rapide** √† manipuler, et que c'est **tr√®s simple** √† comprendre.

Mais pour le manipuler, il faut d'abord **s√©lectionner** les √©l√©ments que l'on veut modifier.

### üîç S√©lectionner un √©l√©ment

Pour s√©lectionner un √©l√©ment, on peut utiliser plusieurs m√©thodes :

- `document.getElementById(id)` : S√©lectionne un √©l√©ment par son `id` _(propri√©t√© HTML `id`)_.
- `document.getElementsByClassName(className)` : S√©lectionne tous les √©l√©ments par leur `className` _(propri√©t√© HTML `class`)_.
- `document.getElementsByTagName(tagName)` : S√©lectionne tous les √©l√©ments par leur `tagName` _(balise HTML)_.
- `document.querySelector(selector)` : S√©lectionne le premier √©l√©ment qui correspond au `selector` _(s√©lecteur CSS)_.
- `document.querySelectorAll(selector)` : S√©lectionne tous les √©l√©ments qui correspondent au `selector` _(s√©lecteur CSS)_.

Voici quelques exemples comment√©s pour visualiser ces m√©thodes :

<tabs.jsDomSelectionExplanations />

Selon la m√©thode utilis√©e, on peut r√©cup√©rer un √©l√©ment ou une liste d'√©l√©ments.  
Pour m√©moriser ces m√©thodes, fais attention √† la pr√©sence du pluriel dans le nom de la m√©thode :

- `getElementById` _(singulier)_ : Retourne un √©l√©ment.
- `getElementsByClassName` _(pluriel)_ : Retourne une liste d'√©l√©ments.
- `getElementsByTagName` _(pluriel)_ : Retourne une liste d'√©l√©ments.
- `querySelector` _(singulier)_ : Retourne un √©l√©ment.
- `querySelectorAll` _(pluriel)_ : Retourne une liste d'√©l√©ments.

<Callout type="note" title="Aucun √©l√©ment trouv√©">
  Si aucun √©l√©ment n'est trouv√©, la m√©thode retourne `null`.  

  Cependant, si on utilise une m√©thode qui retourne une liste d'√©l√©ments, la liste ne sera pas `null`, mais **vide**.
</Callout>

### ‚úèÔ∏è Modifier le contenu d'un √©l√©ment

Pour modifier le contenu d'un √©l√©ment, on retrouve trois propri√©t√©s :

- `element.innerHTML` : Modifie le contenu HTML de l'√©l√©ment.
- `element.innerText` : Modifie le contenu texte de l'√©l√©ment.
- `element.textContent` : Modifie le contenu texte de l'√©l√©ment.

Voici quelques exemples comment√©s pour visualiser ces propri√©t√©s :

<tabs.jsDomContentModificationExplanations />

<Callout type="question" title="Je ne comprends pas la diff√©rence entre innerText et textContent">
  Si √ßa te rassure, c'est normal ! Ces deux propri√©t√©s sont tr√®s similaires, mais n'ont pas les m√™mes comportements.

  - `innerText` : Modifie le contenu texte de l'√©l√©ment, et ignore les balises HTML.
  - `textContent` : Modifie le contenu texte de l'√©l√©ment, et prend en compte les balises HTML.
</Callout>

<Callout type="warning" title="Attention √† innerHTML">
  La propri√©t√© `innerHTML` est tr√®s puissante, mais elle peut √©galement √™tre dangereuse.

  En l'utilisant, on expose la page √† des attaques de type **XSS** _(Cross-Site Scripting)_ !  
  Il est donc **fortement conseill√©** d'utiliser `textContent` ou `innerText` plut√¥t que `innerHTML`.

  Dans le cas o√π l'on doit utiliser `innerHTML`, il est **fortement conseill√©** de **sanitiser** le contenu avant de l'afficher.
</Callout>
  
Je ne vais pas rentrer dans les d√©tails ici, mais tu peux en savoir plus sur ces deux propri√©t√©s dans la documentation de MDN :

<QuickLinks>
  <QuickLinks.QuickLink
    title="MDN - innerText"
    href="https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/innerText"
    description="Documentation de MDN sur la propri√©t√© innerText"
    icon="presets"
  />
  <QuickLinks.QuickLink
    title="MDN - textContent"
    href="https://developer.mozilla.org/fr/docs/Web/API/Node/textContent"
    description="Documentation de MDN sur la propri√©t√© textContent"
    icon="presets"
  />
  <QuickLinks.QuickLink
    title="MDN - innerHTML"
    href="https://developer.mozilla.org/fr/docs/Web/API/Element/innerHTML"
    description="Documentation de MDN sur la propri√©t√© innerHTML"
    icon="presets"
  />
  <QuickLinks.QuickLink
    title="MDN - Cross-Site Scripting"
    href="https://developer.mozilla.org/fr/docs/Glossary/Cross-site_scripting"
    description="Documentation de MDN sur le Cross-Site Scripting"
    icon="presets"
  />
</QuickLinks>

### üîß Modifier les attributs d'un √©l√©ment

Pour modifier les attributs d'un √©l√©ment, on peut utiliser la propri√©t√© `element.setAttribute(attribute, value)`.